import{_ as e,o as d,c as a,ag as l}from"./chunks/framework.BN1xCa1J.js";const h=JSON.parse('{"title":"Database Schema","description":"","frontmatter":{},"headers":[],"relativePath":"dashboard/database-schema.md","filePath":"dashboard/database-schema.md"}'),o={name:"dashboard/database-schema.md"};function s(i,t,c,n,r,f){return d(),a("div",null,[...t[0]||(t[0]=[l('<h1 id="database-schema" tabindex="-1">Database Schema <a class="header-anchor" href="#database-schema" aria-label="Permalink to &quot;Database Schema&quot;">​</a></h1><p>Z-Core generates its own high-performance SQL schemas the first time it connects to your database via <code>oxmysql</code>.</p><p>If you are developing external tools (e.g. a Discord Bot, a PHP Website, or raw SQL queries), you can hook directly into these tables.</p><h2 id="z-users" tabindex="-1"><code>z_users</code> <a class="header-anchor" href="#z-users" aria-label="Permalink to &quot;`z_users`&quot;">​</a></h2><p>Used primarily when Z-Core runs in Standalone mode (or as a fallback). It tracks core user data.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Column</th><th style="text-align:left;">Type</th><th style="text-align:left;">Details</th></tr></thead><tbody><tr><td style="text-align:left;"><code>identifier</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Primary Key. The user&#39;s License/Steam identifier.</td></tr><tr><td style="text-align:left;"><code>name</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">RP Name or fallback display name.</td></tr><tr><td style="text-align:left;"><code>money</code></td><td style="text-align:left;"><code>INT</code></td><td style="text-align:left;">Default 0. Used for Cash.</td></tr><tr><td style="text-align:left;"><code>bank</code></td><td style="text-align:left;"><code>INT</code></td><td style="text-align:left;">Default 0. Used for Bank balance.</td></tr><tr><td style="text-align:left;"><code>job</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Default &#39;unemployed&#39;.</td></tr><tr><td style="text-align:left;"><code>job_grade</code></td><td style="text-align:left;"><code>INT</code></td><td style="text-align:left;">Default 0.</td></tr></tbody></table><h2 id="z-bans" tabindex="-1"><code>z_bans</code> <a class="header-anchor" href="#z-bans" aria-label="Permalink to &quot;`z_bans`&quot;">​</a></h2><p>Z-Core&#39;s centralized ban management table. It uses an internal auto-increment ID to prevent identifier collision and allows for expiring bans.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Column</th><th style="text-align:left;">Type</th><th style="text-align:left;">Details</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;"><code>INT</code></td><td style="text-align:left;">Primary Key, Auto Increment.</td></tr><tr><td style="text-align:left;"><code>identifier</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Target&#39;s primary identifier.</td></tr><tr><td style="text-align:left;"><code>name</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Target&#39;s last known name.</td></tr><tr><td style="text-align:left;"><code>reason</code></td><td style="text-align:left;"><code>TEXT</code></td><td style="text-align:left;">Ban Reason.</td></tr><tr><td style="text-align:left;"><code>admin</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Name of the staff who issued the ban.</td></tr><tr><td style="text-align:left;"><code>ban_date</code></td><td style="text-align:left;"><code>TIMESTAMP</code></td><td style="text-align:left;">When the ban occurred.</td></tr><tr><td style="text-align:left;"><code>expire_date</code></td><td style="text-align:left;"><code>TIMESTAMP</code></td><td style="text-align:left;">When the ban lifts (NULL = Permanent).</td></tr><tr><td style="text-align:left;"><code>active</code></td><td style="text-align:left;"><code>BOOLEAN</code></td><td style="text-align:left;"><code>TRUE</code> if the ban is enforced, <code>FALSE</code> if pardoned.</td></tr></tbody></table><h2 id="z-tickets" tabindex="-1"><code>z_tickets</code> <a class="header-anchor" href="#z-tickets" aria-label="Permalink to &quot;`z_tickets`&quot;">​</a></h2><p>Used by the Dashboard for the Helpdesk/Support system.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Column</th><th style="text-align:left;">Type</th><th style="text-align:left;">Details</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;"><code>INT</code></td><td style="text-align:left;">Primary Key, Auto Increment.</td></tr><tr><td style="text-align:left;"><code>identifier</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">The creator&#39;s identifier.</td></tr><tr><td style="text-align:left;"><code>title</code></td><td style="text-align:left;"><code>VARCHAR(100)</code></td><td style="text-align:left;">The subject of the ticket.</td></tr><tr><td style="text-align:left;"><code>status</code></td><td style="text-align:left;"><code>VARCHAR(20)</code></td><td style="text-align:left;"><code>open</code>, <code>claimed</code>, or <code>closed</code>.</td></tr><tr><td style="text-align:left;"><code>claimed_by</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Name of the admin handling it.</td></tr></tbody></table><p><em>Note: The actual chat messages within a ticket are linked via <code>ticket_id</code> in the secondary <code>z_ticket_messages</code> table.</em></p><h2 id="z-staff" tabindex="-1"><code>z_staff</code> <a class="header-anchor" href="#z-staff" aria-label="Permalink to &quot;`z_staff`&quot;">​</a></h2><p>Used by the Dashboard to store staff members added via the <strong>System Settings → Staff Management</strong> UI. These entries grant dashboard access without requiring ACE permissions in <code>server.cfg</code>.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Column</th><th style="text-align:left;">Type</th><th style="text-align:left;">Details</th></tr></thead><tbody><tr><td style="text-align:left;"><code>identifier</code></td><td style="text-align:left;"><code>VARCHAR(100)</code></td><td style="text-align:left;">Primary Key. Any FiveM identifier (e.g., <code>license:</code>, <code>steam:</code>, <code>discord:</code>, <code>fivem:</code>, <code>ip:</code>).</td></tr><tr><td style="text-align:left;"><code>name</code></td><td style="text-align:left;"><code>VARCHAR(50)</code></td><td style="text-align:left;">Display name for the staff member.</td></tr><tr><td style="text-align:left;"><code>role</code></td><td style="text-align:left;"><code>VARCHAR(30)</code></td><td style="text-align:left;">Cosmetic role label (e.g., <code>god</code>, <code>admin</code>, <code>mod</code>, <code>supporter</code>). Default: <code>mod</code>.</td></tr><tr><td style="text-align:left;"><code>permissions</code></td><td style="text-align:left;"><code>TEXT</code></td><td style="text-align:left;">JSON array of granular permission strings (e.g., <code>[&quot;zcore.admin.dashboard&quot;,&quot;zcore.admin.players&quot;]</code>). Use <code>[&quot;*&quot;]</code> for full access.</td></tr><tr><td style="text-align:left;"><code>created_at</code></td><td style="text-align:left;"><code>TIMESTAMP</code></td><td style="text-align:left;">When the staff member was added.</td></tr></tbody></table><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>When a player connects, Z-Core loops through all their FiveM identifiers and checks <code>z_staff</code> for a match. The permissions from the database are <strong>merged</strong> with any ACE/Config permissions they already have.</p></div>',17)])])}const g=e(o,[["render",s]]);export{h as __pageData,g as default};
