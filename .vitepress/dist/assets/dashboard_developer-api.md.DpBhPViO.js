import{_ as s,o as e,c as a,ag as t}from"./chunks/framework.BN1xCa1J.js";const c=JSON.parse('{"title":"Dashboard Developer API","description":"","frontmatter":{},"headers":[],"relativePath":"dashboard/developer-api.md","filePath":"dashboard/developer-api.md"}'),n={name:"dashboard/developer-api.md"};function h(r,i,l,o,p,k){return e(),a("div",null,[...i[0]||(i[0]=[t(`<h1 id="dashboard-developer-api" tabindex="-1">Dashboard Developer API <a class="header-anchor" href="#dashboard-developer-api" aria-label="Permalink to &quot;Dashboard Developer API&quot;">‚Äã</a></h1><p>If you wish to create custom pages, widgets, or tools for the Z-Dashboard, you need to understand how the React frontend communicates with the FiveM server backend.</p><p>Z-Core uses a strict <strong>NUI Callback</strong> system for HTTP requests, and <strong>WebSockets</strong> for high-frequency real-time data streaming (like the Live Map).</p><h2 id="nui-endpoints-http" tabindex="-1">NUI Endpoints (HTTP) <a class="header-anchor" href="#nui-endpoints-http" aria-label="Permalink to &quot;NUI Endpoints (HTTP)&quot;">‚Äã</a></h2><p>The Z-Dashboard uses standard FiveM NUI callbacks. You can trigger these using the frontend <code>fetchNui</code> wrapper. All endpoints require the player triggering them to have proper Staff/Admin roles, which is strictly validated on the server-side.</p><h3 id="üë•-player-state-management" tabindex="-1">üë• Player &amp; State Management <a class="header-anchor" href="#üë•-player-state-management" aria-label="Permalink to &quot;üë• Player &amp; State Management&quot;">‚Äã</a></h3><ul><li><code>z-core:nui:getZCoreState</code>: Returns the master state object containing server max players, online players, active resources, and the raw array of all connected <code>ZPlayer</code> objects.</li><li><code>z-core:nui:searchOfflinePlayers</code>: Searches the database for offline characters.</li><li><code>z-core:nui:saveOfflinePlayer</code>: Submits edited economy/job data directly to the SQL database.</li></ul><h3 id="üõ°Ô∏è-moderation-actions" tabindex="-1">üõ°Ô∏è Moderation Actions <a class="header-anchor" href="#üõ°Ô∏è-moderation-actions" aria-label="Permalink to &quot;üõ°Ô∏è Moderation Actions&quot;">‚Äã</a></h3><p>Trigger <code>z-core:adminAction</code> with the following payloads to execute instant moderation commands:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:adminAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;kick&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, reason: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;RDM&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:adminAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ban&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:adminAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;revive&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:adminAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;freeze&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:adminAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;spectate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><h3 id="üöó-vehicle-asset-management" tabindex="-1">üöó Vehicle &amp; Asset Management <a class="header-anchor" href="#üöó-vehicle-asset-management" aria-label="Permalink to &quot;üöó Vehicle &amp; Asset Management&quot;">‚Äã</a></h3><ul><li><code>z-core:nui:getPlayerVehicles</code>: Returns all owned vehicles for a specific CitizenID.</li><li><code>z-core:nui:deleteVehicle</code>: Wipes a vehicle from the database by license plate.</li><li><code>z-core:nui:updateVehicle</code>: Transfers vehicle ownership or changes garage location.</li><li><code>z-core:nui:giftVehicle</code>: Spawns and registers a new vehicle to an online player.</li></ul><h3 id="üåê-server-actions" tabindex="-1">üåê Server Actions <a class="header-anchor" href="#üåê-server-actions" aria-label="Permalink to &quot;üåê Server Actions&quot;">‚Äã</a></h3><p>Trigger <code>z-core:nui:serverAction</code> to execute global commands:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:nui:serverAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { action: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;weather&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CLEAR&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:nui:serverAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { action: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;time&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: { hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, minute: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:nui:serverAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { action: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;announce&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Server restart in 5 mins!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchNui</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;z-core:nui:serverAction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { action: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;revive_all&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><hr><h2 id="üì°-action-streaming-websockets" tabindex="-1">üì° Action Streaming (WebSockets) <a class="header-anchor" href="#üì°-action-streaming-websockets" aria-label="Permalink to &quot;üì° Action Streaming (WebSockets)&quot;">‚Äã</a></h2><p>Unlike traditional NUI where the client constantly polls the server for updates (which kills performance), Z-Core utilizes WebSockets.</p><p>When you start the Dashboard in your browser, it connects to Z-Core&#39;s internal Express.js server on port 3000.</p><h3 id="websocket-events-received" tabindex="-1">WebSocket Events Received <a class="header-anchor" href="#websocket-events-received" aria-label="Permalink to &quot;WebSocket Events Received&quot;">‚Äã</a></h3><p>Your React components can listen to these WebSocket broadcasts seamlessly using the <code>useNuiEvent</code> hook (which bridges WS to NUI seamlessly in dev mode):</p><ul><li><code>z-core:newLog</code>: Triggers whenever a script calls the <code>exports[&#39;z-core&#39;]:Log()</code> function.</li><li><code>z-core:securityStatus</code>: Streams realtime antivirus/exploit scan results.</li><li><code>z-core:mapUpdate</code>: Streams a 60Hz array of <code>{ source, coords, heading }</code> for the Live Map widget, bypassing the FiveM main thread entirely for zero lag.</li></ul>`,22)])])}const E=s(n,[["render",h]]);export{c as __pageData,E as default};
